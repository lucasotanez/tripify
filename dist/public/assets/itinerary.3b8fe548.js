import{b as y,d as S,g,e as R,s as k,t as h,f as T,a as A,i as C,c as $}from"./entry-client.85b231ad.js";var v=function(n,s){return Object.assign(document.createElement("canvas"),{width:n,height:s})},u=function(n,s){return new Promise(function(a,r){const i=Object.assign(document.createElement("img"),s);function e(){i.onload=null,i.onerror=null}i.onload=function(){e(),a(i)},i.onerror=function(){e(),r(new Error('Failed to load the image "'+n+'"'))},i.src=n})};const O=h("<div><img></div>");function I(n){const[s,a]=y("");return S(async()=>{console.log("WORKING");let e={tripName:"Your Concert Tour:",artists:n.artists,width:600,height:750,pallete:[["#B9D6F2","#061A40","#0353A4"],["#CCC9DC","#1B2A41","#324A5F"],["#EAF4F4","#6B9080","#A4C3B2"],["#f2b43f","#363537","#d62c20"]]},l=Math.floor(Math.random()*4),o=[],m=[];for(let c=0;c<5;c++){let _=e.artists[c],d=await(await fetch(`https://musicbrainz.org/ws/2/artist/?query=${_}`,{headers:{Accept:"application/json"}})).json();o.push(d.artists[0]["begin-area"]?.name||"Unknown"),d.artists[0].tags}console.log(o),console.log(m);const f=v(e.width,e.height),t=f.getContext("2d");t.fillStyle=e.pallete[l][2],t.fillRect(0,0,600,750),t.font="bold 30pt 'Ubuntu'",t.textAlign="center",t.fillStyle=e.pallete[l][0],t.fillText(e.tripName,225,105),t.textAlign="left",t.font="bold 18pt 'Ubuntu'",t.beginPath(),t.fillStyle=e.pallete[l][1],t.roundRect(50,245,500,50,35),t.roundRect(50,320,500,50,35),t.roundRect(50,395,500,50,35),t.roundRect(50,470,500,50,35),t.roundRect(50,545,500,50,35),t.fillStyle=e.pallete[l][1],t.stroke(),t.fill(),t.beginPath(),t.fillStyle=e.pallete[l][0],t.fillText("1   "+e.artists[0],70,280),t.fillText("2   "+e.artists[1],70,355),t.fillText("3   "+e.artists[2],70,430),t.fillText("4   "+e.artists[3],70,505),t.fillText("5   "+e.artists[4],70,580),t.font="italic 12pt 'Ubuntu'",t.textAlign="right",t.fillText(o[0],515,278),t.fillText(o[1],515,353),t.fillText(o[2],515,428),t.fillText(o[3],515,503),t.fillText(o[4],515,578);let p=await u("https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/White_plane_icon_2.png/600px-White_plane_icon_2.png",{crossOrigin:"anonymous"});t.drawImage(p,450,150,75,75),t.beginPath(),t.textBaseline="middle",t.strokeStyle="white",t.roundRect(50,160,350,3,5),t.roundRect(80,185,350,3,5),t.roundRect(50,210,350,3,5),t.fillStyle="white",t.stroke();let w=await u("https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/White_plane_icon_2.png/600px-White_plane_icon_2.png",{crossOrigin:"anonymous"});t.drawImage(w,450,625,75,75),t.strokeStyle="white",t.roundRect(50,635,350,3,5),t.roundRect(80,660,350,3,5),t.roundRect(50,685,350,3,5),t.fillStyle="white",t.stroke(),t.fill(),t.fillStyle="white",t.strokeStyle=e.pallete[l][0],t.lineWidth=5,t.roundRect(518,2,80,80,[0,0,0,15]),t.fill(),t.stroke();let x=await u("./images/qr-code.png",{crossOrigin:"anonymous"});t.drawImage(x,525,5,70,70);const b=f.toDataURL("image/png");a(b)}),(()=>{const r=g(O),i=r.firstChild;return R(()=>k(i,"src",s())),r})()}const N=h("<main><h1>Have a nice flight!</h1><!#><!/></main>");function E(){const[n,s]=T();return(()=>{const a=g(N),r=a.firstChild,i=r.nextSibling,[e,l]=A(i.nextSibling);return C(a,$(I,{get artists(){return JSON.parse(JSON.stringify({...n}.info)).slice(2,-2).split('","')}}),e,l),a})()}export{E as default};
